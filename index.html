<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Doom-like 2.5D</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background-color: #000;
    color: #fff;
    font-family: Arial, sans-serif;
  }

  #container {
    position: relative;
    width: 100vw;
    height: 100vh;
    perspective: 500px;
    overflow: hidden;
  }

  #player {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 20px;
    height: 20px;
    background-color: #fff;
    transform: translate(-50%, -50%);
  }

  .wall {
    position: absolute;
    background-color: #666;
    width: 50px;
    height: 50px;
    border: 2px solid #000;
  }
</style>
</head>
<body>
<div id="container">
  <div id="player"></div>
</div>

<script>
  const container = document.getElementById("container");
  const player = document.getElementById("player");

  // Define the map
  const map = [
    "1111111111111111111111111",
    "1                        1",
    "1      1        1        1",
    "1      1        1        1",
    "1      1        1        1",
    "1      1        1        1",
    "1      1        1        1",
    "1                        1",
    "1111111111111111111111111",
  ];

  // Create walls based on the map
  function createWalls() {
    for (let y = 0; y < map.length; y++) {
      for (let x = 0; x < map[y].length; x++) {
        if (map[y][x] === "1") {
          const wall = document.createElement("div");
          wall.className = "wall";
          wall.style.top = `${y * 50}px`;
          wall.style.left = `${x * 50}px`;
          container.appendChild(wall);
        }
      }
    }
  }

  // Handle player movement
  function movePlayer(dx, dy) {
    const playerRect = player.getBoundingClientRect();
    const containerRect = container.getBoundingClientRect();

    const newX = playerRect.left + dx;
    const newY = playerRect.top + dy;

    // Check collision with walls
    const walls = document.querySelectorAll(".wall");
    let canMove = true;
    walls.forEach(wall => {
      const wallRect = wall.getBoundingClientRect();
      if (
        newX < wallRect.right &&
        newX + playerRect.width > wallRect.left &&
        newY < wallRect.bottom &&
        newY + playerRect.height > wallRect.top
      ) {
        canMove = false;
      }
    });

    if (canMove) {
      player.style.left = `${Math.max(containerRect.left, Math.min(containerRect.right - playerRect.width, newX))}px`;
      player.style.top = `${Math.max(containerRect.top, Math.min(containerRect.bottom - playerRect.height, newY))}px`;
    }
  }

  // Keyboard controls
  document.addEventListener("keydown", (e) => {
    switch (e.key) {
      case "ArrowUp":
        movePlayer(0, -5);
        break;
      case "ArrowDown":
        movePlayer(0, 5);
        break;
      case "ArrowLeft":
        movePlayer(-5, 0);
        break;
      case "ArrowRight":
        movePlayer(5, 0);
        break;
      default:
        break;
    }
  });

  // Initialize the game
  createWalls();
</script>
</body>
</html>
